{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../core/services/patient.service\";\nimport * as i2 from \"../../../core/services/ai.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nfunction PatientDetailComponent_div_0_h1_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h1\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate2(\"\", ctx_r1.patient.name, \" \", ctx_r1.patient.surname, \"\");\n  }\n}\nfunction PatientDetailComponent_div_0_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.error, \" \");\n  }\n}\nfunction PatientDetailComponent_div_0_div_6_div_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"h2\");\n    i0.ɵɵtext(2, \"AI Tahminlemesi\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 14)(4, \"div\", 15)(5, \"label\");\n    i0.ɵɵtext(6, \"Risk Seviyesi:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\", 16);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 15)(10, \"label\");\n    i0.ɵɵtext(11, \"G\\u00FCven Oran\\u0131:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"p\", 16);\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate(ctx_r1.prediction.prediction);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"\", (ctx_r1.prediction.confidence * 100).toFixed(2), \"%\");\n  }\n}\nfunction PatientDetailComponent_div_0_div_6_div_22_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 19)(1, \"div\", 20)(2, \"span\", 21);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"date\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"div\", 22)(6, \"div\", 23)(7, \"label\");\n    i0.ɵɵtext(8, \"Tan\\u0131:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"p\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"div\", 23)(12, \"label\");\n    i0.ɵɵtext(13, \"Doktor Notlar\\u0131:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"p\");\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const record_r3 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(4, 3, record_r3.date, \"dd.MM.yyyy HH:mm\"));\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(record_r3.diagnosis);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(record_r3.doctorRemarks);\n  }\n}\nfunction PatientDetailComponent_div_0_div_6_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"h2\");\n    i0.ɵɵtext(2, \"T\\u0131bbi Kay\\u0131tlar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 17);\n    i0.ɵɵtemplate(4, PatientDetailComponent_div_0_div_6_div_22_div_4_Template, 16, 6, \"div\", 18);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.patient.records);\n  }\n}\nfunction PatientDetailComponent_div_0_div_6_div_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"p\", 24);\n    i0.ɵɵtext(2, \"T\\u0131bbi kay\\u0131t bulunmamaktad\\u0131r.\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction PatientDetailComponent_div_0_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9)(1, \"div\", 10)(2, \"h2\");\n    i0.ɵɵtext(3, \"Hasta Bilgileri\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 11)(5, \"div\", 12)(6, \"label\");\n    i0.ɵɵtext(7, \"Ad:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"p\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"div\", 12)(11, \"label\");\n    i0.ɵɵtext(12, \"Soyad\\u0131:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"p\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"div\", 12)(16, \"label\");\n    i0.ɵɵtext(17, \"Do\\u011Fum Tarihi:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"p\");\n    i0.ɵɵtext(19);\n    i0.ɵɵpipe(20, \"date\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵtemplate(21, PatientDetailComponent_div_0_div_6_div_21_Template, 14, 2, \"div\", 13)(22, PatientDetailComponent_div_0_div_6_div_22_Template, 5, 1, \"div\", 13)(23, PatientDetailComponent_div_0_div_6_div_23_Template, 3, 0, \"div\", 13);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(9);\n    i0.ɵɵtextInterpolate(ctx_r1.patient.name);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r1.patient.surname);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(20, 6, ctx_r1.patient.birthDate, \"dd.MM.yyyy\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.prediction);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.patient.records && ctx_r1.patient.records.length > 0);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.patient.records || ctx_r1.patient.records.length === 0);\n  }\n}\nfunction PatientDetailComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"div\", 3)(2, \"button\", 4);\n    i0.ɵɵlistener(\"click\", function PatientDetailComponent_div_0_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.goBack());\n    });\n    i0.ɵɵtext(3, \"\\u2190 Geri\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, PatientDetailComponent_div_0_h1_4_Template, 2, 2, \"h1\", 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(5, PatientDetailComponent_div_0_div_5_Template, 2, 1, \"div\", 6)(6, PatientDetailComponent_div_0_div_6_Template, 24, 9, \"div\", 7);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.patient);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.error);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.patient);\n  }\n}\nfunction PatientDetailComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 25);\n    i0.ɵɵtext(1, \" Y\\u00FCkleniyor...\\n\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport let PatientDetailComponent = /*#__PURE__*/(() => {\n  class PatientDetailComponent {\n    constructor(patientService, aiService, route, router) {\n      this.patientService = patientService;\n      this.aiService = aiService;\n      this.route = route;\n      this.router = router;\n      this.patient = null;\n      this.prediction = null;\n      this.loading = false;\n      this.error = '';\n      this.patientId = 0;\n    }\n    ngOnInit() {\n      this.route.params.subscribe(params => {\n        this.patientId = params['id'];\n        this.loadPatient();\n        this.loadPrediction();\n      });\n    }\n    loadPatient() {\n      this.loading = true;\n      this.error = '';\n      this.patientService.getById(this.patientId).subscribe({\n        next: data => {\n          this.patient = data;\n          this.loading = false;\n        },\n        error: error => {\n          this.error = 'Hasta bilgileri yüklenirken hata oluştu.';\n          this.loading = false;\n        }\n      });\n    }\n    loadPrediction() {\n      this.aiService.getPrediction(this.patientId).subscribe({\n        next: data => {\n          this.prediction = data;\n        },\n        error: error => {\n          // AI tahminini alamazsa sessiz kalan hata\n        }\n      });\n    }\n    goBack() {\n      this.router.navigate(['/patients']);\n    }\n    static {\n      this.ɵfac = function PatientDetailComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || PatientDetailComponent)(i0.ɵɵdirectiveInject(i1.PatientService), i0.ɵɵdirectiveInject(i2.AiService), i0.ɵɵdirectiveInject(i3.ActivatedRoute), i0.ɵɵdirectiveInject(i3.Router));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: PatientDetailComponent,\n        selectors: [[\"app-patient-detail\"]],\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 2,\n        vars: 2,\n        consts: [[\"class\", \"container\", 4, \"ngIf\"], [\"class\", \"container loading\", 4, \"ngIf\"], [1, \"container\"], [1, \"header\"], [1, \"btn\", \"btn-back\", 3, \"click\"], [4, \"ngIf\"], [\"class\", \"alert alert-danger\", 4, \"ngIf\"], [\"class\", \"detail-card\", 4, \"ngIf\"], [1, \"alert\", \"alert-danger\"], [1, \"detail-card\"], [1, \"section\"], [1, \"info-grid\"], [1, \"info-item\"], [\"class\", \"section\", 4, \"ngIf\"], [1, \"prediction-box\"], [1, \"prediction-item\"], [1, \"prediction-value\"], [1, \"records-list\"], [\"class\", \"record-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"record-item\"], [1, \"record-header\"], [1, \"date\"], [1, \"record-content\"], [1, \"record-field\"], [1, \"empty\"], [1, \"container\", \"loading\"]],\n        template: function PatientDetailComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵtemplate(0, PatientDetailComponent_div_0_Template, 7, 3, \"div\", 0)(1, PatientDetailComponent_div_1_Template, 2, 0, \"div\", 1);\n          }\n          if (rf & 2) {\n            i0.ɵɵproperty(\"ngIf\", !ctx.loading);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.loading);\n          }\n        },\n        dependencies: [CommonModule, i4.NgForOf, i4.NgIf, i4.DatePipe],\n        styles: [\".container[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto;padding:20px}.header[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:30px;gap:20px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;color:#333}.btn-back[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff;padding:10px 15px;border:none;border-radius:5px;cursor:pointer}.btn-back[_ngcontent-%COMP%]:hover{background-color:#5a6268}.alert[_ngcontent-%COMP%]{padding:15px;margin-bottom:20px;border-radius:5px}.alert-danger[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24;border:1px solid #f5c6cb}.detail-card[_ngcontent-%COMP%]{background:#fff;box-shadow:0 2px 8px #0000001a;border-radius:8px;overflow:hidden}.section[_ngcontent-%COMP%]{padding:25px;border-bottom:1px solid #f0f0f0}.section[_ngcontent-%COMP%]:last-child{border-bottom:none}.section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 20px;color:#333;font-size:18px}.info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px}.info-item[_ngcontent-%COMP%]{padding:15px;background-color:#f9f9f9;border-radius:5px}.info-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#666;margin-bottom:5px;font-size:12px;text-transform:uppercase}.info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#333;font-size:16px}.prediction-box[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px;padding:20px;background-color:#e8f4f8;border-radius:5px;border-left:4px solid #17a2b8}.prediction-item[_ngcontent-%COMP%]{padding:15px;background:#fff;border-radius:5px}.prediction-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#666;margin-bottom:10px;font-size:12px}.prediction-value[_ngcontent-%COMP%]{margin:0;color:#17a2b8;font-size:18px;font-weight:700}.records-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.record-item[_ngcontent-%COMP%]{border:1px solid #e0e0e0;border-radius:5px;overflow:hidden}.record-header[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:12px 15px;border-bottom:1px solid #e0e0e0}.date[_ngcontent-%COMP%]{color:#666;font-size:13px;font-weight:600}.record-content[_ngcontent-%COMP%]{padding:15px;background:#fff}.record-field[_ngcontent-%COMP%]{margin-bottom:15px}.record-field[_ngcontent-%COMP%]:last-child{margin-bottom:0}.record-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:600;color:#666;margin-bottom:5px;font-size:12px;text-transform:uppercase}.record-field[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#333;line-height:1.5}.empty[_ngcontent-%COMP%]{text-align:center;color:#999;padding:20px}.loading[_ngcontent-%COMP%]{text-align:center;padding:40px;color:#666}\"]\n      });\n    }\n  }\n  return PatientDetailComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}